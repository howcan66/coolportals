<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>R1-R2A-R3-R2B Integration Test Frame</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #1a1a1a;
            color: #fff;
            padding: 10px;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        .frame-header {
            background-color: #0d47a1;
            padding: 6px 10px; /* compact top row */
            border-radius: 4px;
            margin-bottom: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .frame-header h1 {
            font-size: 0.9rem; /* reduced font size */
            font-weight: bold;
            line-height: 1.1; /* prevent tall header */
        }

        .frame-header .data-flow {
            display: flex;
            align-items: center;
            gap: 12px; /* suitable distance between items */
            font-size: 0.75rem; /* compact size */
            color: #b3e5fc;
            line-height: 1; /* tight row */
        }

        .frame-header .workflow-steps {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            font-size: 0.72rem; /* compact */
            color: #e3f2fd;
            line-height: 1; /* tight row */
        }

        .frame-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            flex: 1;
            min-height: 0;
        }

        .frame-wrapper {
            display: flex;
            flex-direction: column;
            background-color: #2a2a2a;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.5);
            overflow: hidden;
        }

        .frame-label {
            background-color: #1a1a1a;
            padding: 8px 12px;
            font-size: 0.9rem;
            font-weight: bold;
            color: #4dd0e1;
            border-bottom: 2px solid #0d47a1;
        }

        iframe {
            flex: 1;
            border: none;
            background-color: #fff;
        }

        .frame-footer {
            background-color: #1a1a1a;
            padding: 12px 16px;
            margin-top: 10px;
            border-radius: 4px;
            font-size: 0.75rem;
            color: #888;
            line-height: 1.4;
        }

        .frame-footer strong {
            color: #4dd0e1;
        }
    </style>
</head>
<body>

<div class="frame-header">
    <h1>üéπ R1-R2A-R3-R2B Integration Test Frame</h1>
    <div class="data-flow" aria-label="Data flow">
        <span>R2A (input)</span>
        <span>‚Üí</span>
        <span>R1 (validation)</span>
        <span>‚Üí</span>
        <span>R3 (display)</span>
        <span>‚Üí</span>
        <span>R2B (analysis)</span>
    </div>
    <div class="workflow-steps" aria-label="Test workflow">
        <span>1. Enter chords in R2A</span>
        <span>2. Click B5/B7</span>
        <span>3. Validate in R1</span>
        <span>4. Click B1/B3</span>
        <span>5. R3 lights up</span>
        <span>6. Click BR3</span>
        <span>7. R2B shows analysis</span>
    </div>
</div>

<div class="frame-container">
    <div class="frame-wrapper">
        <div class="frame-label">üìù R2A - Batch Input</div>
        <iframe id="r2a-frame" src="R2A.html"></iframe>
    </div>

    <div class="frame-wrapper">
        <div class="frame-label">‚úì R1 - Input Validation</div>
        <iframe id="r1-frame" src="R1.html"></iframe>
    </div>

    <div class="frame-wrapper">
        <div class="frame-label">üéπ R3 - Pianogroups</div>
        <iframe id="r3-frame" src="R3.html"></iframe>
    </div>

    <div class="frame-wrapper">
        <div class="frame-label">üìä R2B - Piano Analysis</div>
        <iframe id="r2b-frame" src="R2B.html"></iframe>
    </div>
</div>

<div class="frame-footer">
    Use a local server for full cross-panel communication (same-origin).
</div>

<script>
    // Note: iframes have same-origin policy, so cross-iframe communication 
    // via window.R1, window.R2A, window.R3, window.R2B requires all files 
    // to be served from same origin (http://localhost or file://)

    console.log('Frame loaded. All 4 panels should be visible.');
    console.log('Cross-origin restrictions apply if serving via file:// protocol.');
    console.log('Use local HTTP server for full cross-panel testing.');
</script>

</body>
</html>
