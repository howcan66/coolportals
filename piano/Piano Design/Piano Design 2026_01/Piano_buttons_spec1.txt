================================================================================
  PIANO BUTTONS SPECIFICATION v1
  Complete Button Reference Guide
  Piano Design Interactive Chord Visualization Tool
================================================================================

Date: January 25, 2026
Version: 1.0
Language: English
Status: DRAFT


================================================================================
TABLE OF CONTENTS
================================================================================

1. Introduction
2. Button Naming Convention
3. R1 Panel Buttons
4. R2A Panel Buttons
5. R3 Panel Buttons
6. R2B Panel Buttons
7. Button States & Feedback
8. Color Coding & Visual Hierarchy
9. Keyboard Shortcuts (Future)
10. Button Event Handling
11. Error States & Recovery
12. Accessibility Features


================================================================================
1. INTRODUCTION
================================================================================

PURPOSE:
â”€â”€â”€â”€â”€â”€â”€â”€
This document specifies all buttons used in the Piano Design application.
It defines:
â€¢ Button names and IDs
â€¢ Button functions and behaviors
â€¢ Button placement and hierarchy
â€¢ User feedback mechanisms
â€¢ Error handling


SCOPE:
â”€â”€â”€â”€â”€â”€
Covers all interactive buttons across 4 panels:
â€¢ R1 - Input Validation Panel
â€¢ R2A - Batch Input Panel
â€¢ R3 - Pianogroups Display Panel
â€¢ R2B - Piano Analysis Panel


BUTTON CATEGORIES:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Control Buttons (Load/Clear/Save)
2. Mode Selection Buttons (Triad/Tetrad/Invert)
3. Action Buttons (Play/Replay/Reset)
4. Navigation Buttons (Send/Route)


================================================================================
2. BUTTON NAMING CONVENTION
================================================================================

NAMING PATTERN:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Format: [Panel]-[Type]-[Number]

Examples:
â€¢ r1-b1-1   = R1 Panel, Type B1 (Load), Row 1
â€¢ r2a-b5    = R2A Panel, Button B5 (Load All)
â€¢ r3-b7-5   = R3 Panel, Button B7 (Triad), Row 5
â€¢ r2b-b10   = R2B Panel, Button B10 (Replay)


BUTTON NUMBERING SCHEME:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

B1-B4       = R1 Buttons (Row-based + Global)
B5-B6       = R2A Buttons (Global)
B7-B9, BR3  = R3 Buttons (Row-based + Global)
B10-B11     = R2B Buttons (Global)

Total: 17 unique button IDs


HTML ID ATTRIBUTES:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
r1-b1-{row}         Row-specific Load button
r1-b2-{row}         Row-specific Clear button
r1-b3               Global Load All button
r1-b4               Global Clear All button
r2a-b5              Batch Load All button
r2a-b6              Batch Clear All button
r3-b7-{row}         Triad mode button
r3-b8-{row}         Tetrad mode button
r3-b9-{row}         Invert mode button
r3-br3-{row}        Send to R2B button
r2b-b10             Replay button
r2b-b11             Reset button


================================================================================
3. R1 PANEL BUTTONS - INPUT VALIDATION
================================================================================

PANEL DESCRIPTION:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
R1 is the Input Validation Panel (Top Right)
â€¢ Contains 24 rows of chord inputs
â€¢ Each row has individual buttons
â€¢ Plus 2 global control buttons


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ“ R1 - INPUT VALIDATION                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚ [LR3]  [RALLB4]                                         â”‚
â”‚                                                          â”‚
â”‚ Row  â”‚ Input Field  â”‚  [LR3B1]  â”‚  [XR1B2]               â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚  1   â”‚ [Chord_____] â”‚ [LR3B1] â”‚ [XR1B2]   (B1-1, B2-1)  â”‚
â”‚  2   â”‚ [Chord_____] â”‚ [LR3B1] â”‚ [XR1B2]   (B1-2, B2-2)  â”‚
â”‚  3   â”‚ [Chord_____] â”‚ [LR3B1] â”‚ [XR1B2]   (B1-3, B2-3)  â”‚
â”‚  ... â”‚ ...          â”‚ ... â”‚ ...                          â”‚
â”‚ 24   â”‚ [Chord_____] â”‚ [LR3B1] â”‚ [XR1B2]   (B1-24, B2-24)â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BUTTON: B0 (LR1O - Action TBD)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚ Display Name:        "LR1O" (Pending)                   â”‚
â”‚ HTML ID:             r1-b0-{row}                         â”‚
â”‚ Location:            Right of XR1B2 (per row)            â”‚
â”‚ Size:                28px Ã— 20px (compact)              â”‚
â”‚ Text Color:          #000 (black)                        â”‚
â”‚ Background Color:    #eee (light gray)                  â”‚
â”‚ Hover Color:         #ddd (medium gray)                 â”‚
â”‚ Border:              1px solid #ccc                     â”‚
â”‚ Font Size:           0.7rem                             â”‚
â”‚ Font Weight:         Normal                             â”‚
â”‚                                                          â”‚
â”‚ FUNCTION:                                               â”‚
â”‚ â€¢ Opens a popup window at ~50% of available screen size  â”‚
â”‚ â€¢ Popup has only one button labeled "XR11O"              â”‚
â”‚ â€¢ No chord/state mutation yet                            â”‚
â”‚ â€¢ Reserved for future row-level action                   â”‚
â”‚                                                          â”‚
â”‚ EVENT HANDLER:       handleB0Click(evt, row)             â”‚
â”‚ EVENT TYPE:          click                               â”‚
â”‚ Prevents Default:    Yes                                 â”‚
â”‚ Propagation:         Stop at button                      â”‚
â”‚                                                          â”‚
â”‚ STATUS:                                                  â”‚
â”‚ â€¢ Popup behavior implemented; XR11O button present       â”‚
â”‚ â€¢ Action of XR11O still TBD                              â”‚
â”‚ â€¢ Tie to change log when defined                         â”‚
â”‚                                                          â”‚
â”‚ TODO NEXT REVIEW:                                        â”‚
â”‚ â€¢ Define XR11O action                                    â”‚
â”‚ â€¢ Decide data passed into popup (if any)                 â”‚
â”‚ â€¢ Update integration.html and specs accordingly          â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜



BUTTON SPECIFICATIONS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BUTTON: B1 (Row Load)                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚ Display Name:        "LR3B1" (Load)                      â”‚
â”‚ HTML ID:             r1-b1-{row}                         â”‚
â”‚ Location:            Right of input field (per row)     â”‚
â”‚ Size:                28px Ã— 20px (compact)              â”‚
â”‚ Text Color:          #000 (black)                        â”‚
â”‚ Background Color:    #eee (light gray)                  â”‚
â”‚ Hover Color:         #ddd (medium gray)                 â”‚
â”‚ Border:              1px solid #ccc                     â”‚
â”‚ Font Size:           0.7rem                             â”‚
â”‚ Font Weight:         Normal                             â”‚
â”‚                                                          â”‚
â”‚ FUNCTION:                                               â”‚
â”‚ â€¢ Clears all 24 rows and resets all R3 piano groups     â”‚
â”‚ â€¢ Also resets R2B piano graphics                       â”‚
â”‚ â€¢ One-click reset for the entire interface              â”‚
â”‚ â€¢ If valid, sends to R3 for display                    â”‚
â”‚ â€¢ If invalid, clears the field                         â”‚
â”‚ â€¢ Updates R3 piano visualization immediately           â”‚
â”‚                                                          â”‚
â”‚ EVENT HANDLER:       handleB1Click(row)                 â”‚
â”‚ EVENT TYPE:          click                              â”‚
â”‚ Prevents Default:    Yes                                â”‚
â”‚ Propagation:         Stops at button                    â”‚
â”‚                                                          â”‚
â”‚ VALIDATION:                                              â”‚
â”‚ Regex: /^[A-GH][#b]?m?(maj7|m7|7|sus2|sus4)?\d*$/i     â”‚
â”‚ Normalizes: H â†’ B (Swedish notation)                    â”‚
â”‚                                                          â”‚
â”‚ SUCCESS FEEDBACK:                                        â”‚
â”‚ â€¢ Input field shows validated chord                     â”‚
â”‚ â€¢ R3 piano highlights chord notes (green)               â”‚
â”‚ â€¢ Audio plays the chord                                 â”‚
â”‚                                                          â”‚
â”‚ ERROR FEEDBACK:                                          â”‚
â”‚ â€¢ Invalid input is cleared                              â”‚
â”‚ â€¢ R3 piano group is cleared                             â”‚
â”‚ â€¢ No error message shown (silent failure)               â”‚
â”‚                                                          â”‚
â”‚ TIMING:                                                  â”‚
â”‚ â€¢ Immediate execution                                   â”‚
â”‚ â€¢ No delay between clicking and execution               â”‚
â”‚                                                          â”‚
â”‚ RELATED:                                                 â”‚
â”‚ â€¢ B2: Clear this specific row                          â”‚
â”‚ â€¢ B3: Load all rows at once                            â”‚
â”‚                                                          â”‚
â”‚ USAGE EXAMPLE:                                           â”‚
â”‚ 1. User types "Dm" in row 5 input field                â”‚
â”‚ 2. User clicks B1-5 button                              â”‚
â”‚ 3. "Dm" is validated                                    â”‚
â”‚ 4. R3 row 5 piano shows D, F, A notes in green         â”‚
â”‚ 5. Chord is played                                      â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BUTTON: B2 (Row Clear)                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚ Display Name:        "XR1B2" (Clear/Delete)             â”‚
â”‚ HTML ID:             r1-b2-{row}                         â”‚
â”‚ Location:            Right of B1 button (per row)       â”‚
â”‚ Size:                28px Ã— 20px (compact)              â”‚
â”‚ Text Color:          #000 (black)                        â”‚
â”‚ Background Color:    #eee (light gray)                  â”‚
â”‚ Hover Color:         #ddd (medium gray)                 â”‚
â”‚ Border:              1px solid #ccc                     â”‚
â”‚ Font Size:           0.7rem                             â”‚
â”‚ Font Weight:         Normal                             â”‚
â”‚                                                          â”‚
â”‚ FUNCTION:                                                â”‚
â”‚ â€¢ Clears the input field in current row                 â”‚
â”‚ â€¢ Clears the corresponding R3 piano group               â”‚
â”‚ â€¢ Does not affect other rows                           â”‚
â”‚ â€¢ Silent operation (no confirmation)                    â”‚
â”‚                                                          â”‚
â”‚ EVENT HANDLER:       handleB2Click(row)                 â”‚
â”‚ EVENT TYPE:          click                              â”‚
â”‚ Prevents Default:    Yes                                â”‚
â”‚ Propagation:         Stops at button                    â”‚
â”‚                                                          â”‚
â”‚ OPERATIONS:                                              â”‚
â”‚ 1. Set input field value to empty string ("")          â”‚
â”‚ 2. Call R3.clearPianoGroup(row)                        â”‚
â”‚ 3. Stop any playing audio for this row                 â”‚
â”‚                                                          â”‚
â”‚ SUCCESS FEEDBACK:                                        â”‚
â”‚ â€¢ Input field becomes empty                             â”‚
â”‚ â€¢ R3 piano group resets to default (no highlights)     â”‚
â”‚ â€¢ Chord label in R3 shows "â€“"                          â”‚
â”‚                                                          â”‚
â”‚ ERROR FEEDBACK:                                          â”‚
â”‚ â€¢ None (operation always succeeds)                      â”‚
â”‚                                                          â”‚
â”‚ TIMING:                                                  â”‚
â”‚ â€¢ Immediate execution                                   â”‚
â”‚ â€¢ No confirmation required                              â”‚
â”‚                                                          â”‚
â”‚ RELATED:                                                 â”‚
â”‚ â€¢ B1: Load this row                                    â”‚
â”‚ â€¢ B4: Clear all rows at once                           â”‚
â”‚                                                          â”‚
â”‚ USAGE EXAMPLE:                                           â”‚
â”‚ 1. User has "Dm" in row 5 input field                  â”‚
â”‚ 2. User clicks B2-5 button                              â”‚
â”‚ 3. Input field becomes empty                            â”‚
â”‚ 4. R3 row 5 piano clears                                â”‚
â”‚ 5. Chord label shows "â€“"                                â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BUTTON: LR3 (Global Load All)                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚ Display Name:        "LR3"                                â”‚
â”‚ HTML ID:             r1-b3                              â”‚
â”‚ Location:            Top of R1 panel (left position)    â”‚
â”‚ Size:                60px Ã— 24px (compact)              â”‚
â”‚ Text Color:          #000 (black)                        â”‚
â”‚ Background Color:    #eee (light gray)                  â”‚
â”‚ Hover Color:         #ddd (medium gray)                 â”‚
â”‚ Border:              1px solid #ccc                     â”‚
â”‚ Font Size:           0.7rem                             â”‚
â”‚ Font Weight:         Normal                             â”‚
â”‚                                                          â”‚
â”‚ FUNCTION:                                                â”‚
â”‚ â€¢ Loads and validates ALL 24 rows at once              â”‚
â”‚ â€¢ Sends each chord to R3                                â”‚
â”‚ â€¢ Processes sequentially with 400ms delay               â”‚
â”‚ â€¢ Used for batch operations                             â”‚
â”‚                                                          â”‚
â”‚ EVENT HANDLER:       handleB3Click()                    â”‚
â”‚ EVENT TYPE:          click                              â”‚
â”‚ Prevents Default:    Yes                                â”‚
â”‚ Propagation:         Stops at button                    â”‚
â”‚                                                          â”‚
â”‚ PROCESSING:                                              â”‚
â”‚ For each row 1-24:                                      â”‚
â”‚   1. Read input field value                             â”‚
â”‚   2. Validate using CHORD_REGEX                         â”‚
â”‚   3. Add to internal array                              â”‚
â”‚   4. Schedule to R3 with 400ms delay between each       â”‚
â”‚                                                          â”‚
â”‚ TIMING:                                                  â”‚
â”‚ â€¢ Total time for 24 chords: ~9.6 seconds               â”‚
â”‚ â€¢ Delay between each: 400ms                             â”‚
â”‚ â€¢ Purpose: Visual feedback during loading               â”‚
â”‚                                                          â”‚
â”‚ SUCCESS FEEDBACK:                                        â”‚
â”‚ â€¢ Each R3 row lights up sequentially                    â”‚
â”‚ â€¢ Chords are played one after another                  â”‚
â”‚ â€¢ Progress is visually apparent                        â”‚
â”‚                                                          â”‚
â”‚ ERROR FEEDBACK:                                          â”‚
â”‚ â€¢ Invalid chords are skipped silently                   â”‚
â”‚ â€¢ Corresponding R3 group remains cleared                â”‚
â”‚ â€¢ Valid chords continue to process                      â”‚
â”‚                                                          â”‚
â”‚ CONSOLE LOGGING:                                         â”‚
â”‚ â€¢ Logs: "R1:B3 batch send, [chord array]"              â”‚
â”‚ â€¢ Useful for debugging                                  â”‚
â”‚                                                          â”‚
â”‚ RELATED:                                                 â”‚
â”‚ â€¢ B1: Load individual row                              â”‚
â”‚ â€¢ B4: Clear all rows                                   â”‚
â”‚ â€¢ R2A B5: Also sends to R1                             â”‚
â”‚                                                          â”‚
â”‚ USAGE EXAMPLE:                                           â”‚
â”‚ 1. User fills all 24 rows with chords                  â”‚
â”‚ 2. User clicks B3 button                                â”‚
â”‚ 3. First chord loads, plays, then waits 400ms          â”‚
â”‚ 4. Second chord loads, plays, then waits 400ms         â”‚
â”‚ 5. Process repeats for all 24 chords                   â”‚
â”‚ 6. Total time: ~9.6 seconds                            â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BUTTON: RALLB4 (Global Clear All)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚ Display Name:        "RALLB4"                             â”‚
â”‚ HTML ID:             r1-b4                              â”‚
â”‚ Location:            Top of R1 panel (right of B3)      â”‚
â”‚ Size:                60px Ã— 24px (compact)              â”‚
â”‚ Text Color:          #000 (black)                        â”‚
â”‚ Background Color:    #eee (light gray)                  â”‚
â”‚ Hover Color:         #ddd (medium gray)                 â”‚
â”‚ Border:              1px solid #ccc                     â”‚
â”‚ Font Size:           0.7rem                             â”‚
â”‚ Font Weight:         Normal                             â”‚
â”‚                                                          â”‚
â”‚ FUNCTION:                                                â”‚
â”‚ â€¢ Clears ALL 24 input fields in R1                      â”‚
â”‚ â€¢ Clears ALL 24 piano groups in R3                      â”‚
â”‚ â€¢ Resets everything to empty state                      â”‚
â”‚ â€¢ One-click reset for entire interface                  â”‚
â”‚                                                          â”‚
â”‚ EVENT HANDLER:       handleB4Click()                    â”‚
â”‚ EVENT TYPE:          click                              â”‚
â”‚ Prevents Default:    Yes                                â”‚
â”‚ Propagation:         Stops at button                    â”‚
â”‚                                                          â”‚
â”‚ PROCESSING:                                              â”‚
â”‚ For each row 1-24:                                      â”‚
â”‚   1. Call handleB2Click(row)                            â”‚
â”‚   2. This clears input AND R3 group                     â”‚
â”‚                                                          â”‚
â”‚ TIMING:                                                  â”‚
â”‚ â€¢ Instantaneous (all rows cleared at once)              â”‚
â”‚ â€¢ No delay between rows                                 â”‚
â”‚                                                          â”‚
â”‚ SUCCESS FEEDBACK:                                        â”‚
â”‚ â€¢ All 24 input fields become empty                      â”‚
â”‚ â€¢ All 24 R3 pianos reset to default                     â”‚
â”‚ â€¢ All chord labels show "â€“"                             â”‚
â”‚ â€¢ Clean slate for new input                             â”‚
â”‚                                                          â”‚
â”‚ ERROR FEEDBACK:                                          â”‚
â”‚ â€¢ None (operation always succeeds)                      â”‚
â”‚                                                          â”‚
â”‚ CAUTION:                                                 â”‚
â”‚ â€¢ No confirmation dialog!                               â”‚
â”‚ â€¢ User should be aware this is permanent                â”‚
â”‚ â€¢ Suggestion: Add confirmation in future               â”‚
â”‚                                                          â”‚
â”‚ RELATED:                                                 â”‚
â”‚ â€¢ B2: Clear individual row                             â”‚
â”‚ â€¢ B3: Load all rows                                    â”‚
â”‚ â€¢ R2A B6: Also clears its content                      â”‚
â”‚                                                          â”‚
â”‚ USAGE EXAMPLE:                                           â”‚
â”‚ 1. User has worked with 24 chords                      â”‚
â”‚ 2. User wants to start fresh                            â”‚
â”‚ 3. User clicks B4 button                                â”‚
â”‚ 4. All input fields clear instantly                     â”‚
â”‚ 5. All R3 pianos reset                                  â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


================================================================================
4. R2A PANEL BUTTONS - BATCH INPUT
================================================================================

PANEL DESCRIPTION:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
R2A is the Batch Input Panel (Top Left)
â€¢ Contains a textarea for multi-line input
â€¢ Supports odd rows as chords, even rows as lyrics
â€¢ Has 2 global control buttons


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ“ R2A - BATCH INPUT                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚ [LR1B4]  [XR2A]                                         â”‚
â”‚                                                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ C major                                          â”‚    â”‚
â”‚ â”‚ Intro                                            â”‚    â”‚
â”‚ â”‚ F major                                          â”‚    â”‚
â”‚ â”‚ Verse                                            â”‚    â”‚
â”‚ â”‚ G major                                          â”‚    â”‚
â”‚ â”‚ Chorus                                           â”‚    â”‚
â”‚ â”‚ C major                                          â”‚    â”‚
â”‚ â”‚ Outro                                            â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


BUTTON SPECIFICATIONS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BUTTON: B5 (Batch Load All)                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚ Display Name:        "LR1B4"                             â”‚
â”‚ HTML ID:             r2a-b5                             â”‚
â”‚ Location:            Top of R2A panel (left position)   â”‚
â”‚ Size:                60px Ã— 24px (compact)              â”‚
â”‚ Text Color:          #000 (black)                        â”‚
â”‚ Background Color:    #eee (light gray)                  â”‚
â”‚ Hover Color:         #ddd (medium gray)                 â”‚
â”‚ Border:              1px solid #ccc                     â”‚
â”‚ Font Size:           0.7rem                             â”‚
â”‚ Font Weight:         Normal                             â”‚
â”‚                                                          â”‚
â”‚ FUNCTION:                                                â”‚
â”‚ â€¢ Reads all text from textarea                         â”‚
â”‚ â€¢ Parses odd rows as chords (1, 3, 5...)               â”‚
â”‚ â€¢ Ignores even rows as non-chord data (2, 4, 6...)    â”‚
â”‚ â€¢ Validates all chords                                  â”‚
â”‚ â€¢ Sends to R1 for processing                            â”‚
â”‚                                                          â”‚
â”‚ EVENT HANDLER:       r2aLoadAll()                       â”‚
â”‚ EVENT TYPE:          click                              â”‚
â”‚ Prevents Default:    Yes                                â”‚
â”‚ Propagation:         Stops at button                    â”‚
â”‚                                                          â”‚
â”‚ INPUT FORMAT:                                            â”‚
â”‚ Line 1 (odd):   Chord name (e.g., "C")   â† USED        â”‚
â”‚ Line 2 (even):  Text (e.g., "Intro")     â† IGNORED     â”‚
â”‚ Line 3 (odd):   Chord name (e.g., "F")   â† USED        â”‚
â”‚ Line 4 (even):  Text (e.g., "Verse")     â† IGNORED     â”‚
â”‚                                                          â”‚
â”‚ PROCESSING:                                              â”‚
â”‚ 1. Split textarea into lines                            â”‚
â”‚ 2. Extract odd-indexed lines (0, 2, 4...)              â”‚
â”‚ 3. Parse spaces to get individual chord tokens         â”‚
â”‚ 4. Validate each chord using CHORD_REGEX               â”‚
â”‚ 5. Build array of valid chords                          â”‚
â”‚ 6. Clear R1                                             â”‚
â”‚ 7. Fill R1 rows with validated chords                  â”‚
â”‚                                                          â”‚
â”‚ PARSING EXAMPLE:                                         â”‚
â”‚ Input:                                                   â”‚
â”‚   C major                                               â”‚
â”‚   Intro                                                 â”‚
â”‚   Dm F G                                                â”‚
â”‚   Verse                                                 â”‚
â”‚                                                          â”‚
â”‚ Line 0 (odd):   "C major" â†’ parse â†’ ["C", "major"]    â”‚
â”‚                 "C" âœ“ valid, "major" âœ— invalid         â”‚
â”‚ Line 1 (even):  "Intro" â†’ skipped                       â”‚
â”‚ Line 2 (odd):   "Dm F G" â†’ parse â†’ ["Dm", "F", "G"]   â”‚
â”‚                 All âœ“ valid                             â”‚
â”‚ Line 3 (even):  "Verse" â†’ skipped                       â”‚
â”‚                                                          â”‚
â”‚ Result: ["C", "Dm", "F", "G"]                           â”‚
â”‚ Fills: R1 rows 1-4                                      â”‚
â”‚                                                          â”‚
â”‚ SUCCESS FEEDBACK:                                        â”‚
â”‚ â€¢ R1 input fields populate with chords                 â”‚
â”‚ â€¢ Each chord shows in corresponding row                â”‚
â”‚ â€¢ User can verify in R1 before loading                 â”‚
â”‚                                                          â”‚
â”‚ ERROR FEEDBACK:                                          â”‚
â”‚ â€¢ Invalid chords are silently filtered                 â”‚
â”‚ â€¢ Empty lines are skipped                               â”‚
â”‚ â€¢ No error messages displayed                           â”‚
â”‚                                                          â”‚
â”‚ CONSOLE LOGGING:                                         â”‚
â”‚ â€¢ Logs: "R2A: loaded chords to R1, [array]"            â”‚
â”‚ â€¢ Useful for debugging                                  â”‚
â”‚                                                          â”‚
â”‚ SPECIAL HANDLING:                                        â”‚
â”‚ â€¢ Multiple spaces between chords treated as delimiters  â”‚
â”‚ â€¢ Tab characters also work as delimiters                â”‚
â”‚ â€¢ Leading/trailing whitespace trimmed                   â”‚
â”‚                                                          â”‚
â”‚ RELATED:                                                 â”‚
â”‚ â€¢ B6: Clear textarea content                           â”‚
â”‚ â€¢ R1 B3: Load all R1 rows to R3                        â”‚
â”‚                                                          â”‚
â”‚ USAGE EXAMPLE:                                           â”‚
â”‚ 1. User types in textarea:                             â”‚
â”‚    C major                                              â”‚
â”‚    Intro                                                â”‚
â”‚    F major                                              â”‚
â”‚    Verse                                                â”‚
â”‚ 2. User clicks B5 button                                â”‚
â”‚ 3. Text parsed: "C major" â†’ C, "F major" â†’ F           â”‚
â”‚ 4. Invalid "major" keywords removed                    â”‚
â”‚ 5. R1 fills with: C (row 1), F (row 2)                 â”‚
â”‚                                                          â”‚
â”‚ TYPICAL WORKFLOW:                                        â”‚
â”‚ R2A (B5) â†’ R1 (populated) â†’ R1 (B3) â†’ R3 (displayed)   â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BUTTON: B6 (Batch Clear All)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚ Display Name:        "XR2A"                              â”‚
â”‚ HTML ID:             r2a-b6                             â”‚
â”‚ Location:            Top of R2A panel (right of B5)     â”‚
â”‚ Size:                60px Ã— 24px (compact)              â”‚
â”‚ Text Color:          #000 (black)                        â”‚
â”‚ Background Color:    #eee (light gray)                  â”‚
â”‚ Hover Color:         #ddd (medium gray)                 â”‚
â”‚ Border:              1px solid #ccc                     â”‚
â”‚ Font Size:           0.7rem                             â”‚
â”‚ Font Weight:         Normal                             â”‚
â”‚                                                          â”‚
â”‚ FUNCTION:                                                â”‚
â”‚ â€¢ Clears all text from textarea                         â”‚
â”‚ â€¢ Does NOT affect R1 or R3                              â”‚
â”‚ â€¢ Only affects R2A textarea                             â”‚
â”‚ â€¢ Quick way to clear input area                         â”‚
â”‚                                                          â”‚
â”‚ EVENT HANDLER:       addEventListener('click', ...)    â”‚
â”‚ EVENT TYPE:          click                              â”‚
â”‚ Prevents Default:    Yes                                â”‚
â”‚ Propagation:         Stops at button                    â”‚
â”‚                                                          â”‚
â”‚ OPERATION:                                               â”‚
â”‚ â€¢ Get textarea element (id="r2a-textarea")             â”‚
â”‚ â€¢ Set .value = ""                                       â”‚
â”‚                                                          â”‚
â”‚ SUCCESS FEEDBACK:                                        â”‚
â”‚ â€¢ Textarea becomes empty                                â”‚
â”‚ â€¢ Placeholder text visible again                        â”‚
â”‚ â€¢ Placeholder: "Odd rows: chords\nEven rows: lyrics"  â”‚
â”‚                                                          â”‚
â”‚ ERROR FEEDBACK:                                          â”‚
â”‚ â€¢ None (operation always succeeds)                      â”‚
â”‚                                                          â”‚
â”‚ CAUTION:                                                 â”‚
â”‚ â€¢ No confirmation dialog!                               â”‚
â”‚ â€¢ Text is lost permanently unless copied first         â”‚
â”‚ â€¢ Suggestion: Add confirmation in future               â”‚
â”‚                                                          â”‚
â”‚ RELATED:                                                 â”‚
â”‚ â€¢ B5: Load from textarea                               â”‚
â”‚ â€¢ R1 B4: Also clears related data                      â”‚
â”‚                                                          â”‚
â”‚ USAGE EXAMPLE:                                           â”‚
â”‚ 1. User has typed chords in textarea                   â”‚
â”‚ 2. User clicks B6 button                                â”‚
â”‚ 3. Textarea becomes completely empty                    â”‚
â”‚ 4. Placeholder text shows                               â”‚
â”‚ 5. Ready for new input                                  â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


================================================================================
5. R3 PANEL BUTTONS - PIANOGROUPS DISPLAY
================================================================================

[This section continues with R3 button specifications...]

[Due to character limits, this section will be marked for continuation]

PREVIEW OF R3 BUTTONS:
â€¢ B7: Triad Mode Button (per row)
â€¢ B8: Tetrad Mode Button (per row)
â€¢ B9: Inversion Button (per row)
â€¢ BR3: Send to R2B Button (per row)


================================================================================
6. R2B PANEL BUTTONS - PIANO ANALYSIS
================================================================================

[This section continues with R2B button specifications...]

[Due to character limits, this section will be marked for continuation]

PREVIEW OF R2B BUTTONS:
â€¢ B10: RLR2B Button (Replay)
â€¢ B11: XR2B Button (Reset)


================================================================================
7. BUTTON STATES & FEEDBACK
================================================================================

BUTTON STATES:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

DEFAULT STATE:
â€¢ Background: #eee (light gray)
â€¢ Text Color: #000 (black)
â€¢ Border: 1px solid #ccc
â€¢ Cursor: pointer
â€¢ Opacity: 1.0

HOVER STATE:
â€¢ Background: #ddd (medium gray)
â€¢ Text Color: #000 (black)
â€¢ Border: 1px solid #999
â€¢ Cursor: pointer
â€¢ Opacity: 1.0
â€¢ Subtle visual indication of clickability

ACTIVE STATE (R3 mode buttons only):
â€¢ Background: #a3d5ff (light blue)
â€¢ Border Color: #0d47a1 (dark blue)
â€¢ Indicates currently selected mode
â€¢ Applied to B7, B8, B9 when active

DISABLED STATE (Future):
â€¢ Background: #ccc (gray)
â€¢ Text Color: #999 (gray)
â€¢ Cursor: not-allowed
â€¢ Opacity: 0.5
â€¢ Not yet implemented but should be added


FEEDBACK TYPES:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. VISUAL FEEDBACK:
   â€¢ Color changes on hover/active
   â€¢ Button press animation (optional future)
   â€¢ Status indicator (future)

2. AUDIO FEEDBACK:
   â€¢ Chord plays when loaded
   â€¢ Single note when piano key clicked

3. CONSOLE FEEDBACK:
   â€¢ Detailed logging for debugging
   â€¢ Searchable in browser developer tools

4. SILENT FEEDBACK:
   â€¢ Invalid input silently ignored
   â€¢ No error popups or dialogs


================================================================================
8. COLOR CODING & VISUAL HIERARCHY
================================================================================

BUTTON COLOR SCHEME:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

PRIMARY BUTTONS (Load/Send):
â€¢ Background: #eee
â€¢ Hover: #ddd
â€¢ Purpose: Main workflow actions

SECONDARY BUTTONS (Clear/Reset):
â€¢ Background: #eee
â€¢ Hover: #ddd
â€¢ Purpose: Cleanup operations

MODE BUTTONS (R3 only):
â€¢ Default: #e0e0e0
â€¢ Hover: #d0d0d0
â€¢ Active: #a3d5ff with #0d47a1 border
â€¢ Purpose: Toggle between modes

STATUS INDICATION:
â€¢ Green highlights: Valid notes on pianos
â€¢ Red highlights: R2B analysis notes
â€¢ "â€“" symbol: Empty/cleared state


================================================================================
9. KEYBOARD SHORTCUTS (Future Enhancement)
================================================================================

PROPOSED SHORTCUTS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

R1 Panel:
â€¢ Ctrl+L: Load All (B3)
â€¢ Ctrl+K: Clear All (B4)
â€¢ Enter: Load current row (LR3B1, B1)
â€¢ Delete: Clear current row (XR1B2, B2)

R2A Panel:
â€¢ Ctrl+Shift+L: Load All (LR1B4, B5)
â€¢ Ctrl+Shift+K: Clear All (XR2A, B6)

R3 Panel:
â€¢ T: Toggle Triad (B7)
â€¢ 4: Toggle Tetrad (B8)
â€¢ I: Cycle Inversion (B9)
â€¢ Enter/Space: Send to R2B (BR3)

R2B Panel:
â€¢ Space: Replay (RLR2B, B10)
â€¢ R: Reset (XR2B, B11)

GLOBAL:
â€¢ H or ?: Show help
â€¢ F1: Show documentation


================================================================================
10. BUTTON EVENT HANDLING
================================================================================

EVENT FLOW:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. USER CLICKS BUTTON
   â†“
2. BROWSER EVENT: click
   â†“
3. EVENT LISTENER TRIGGERED
   â†“
4. PREVENT DEFAULT (optional)
   â†“
5. STOP PROPAGATION (at button level)
   â†“
6. EXECUTE HANDLER FUNCTION
   â†“
7. UPDATE DOM (input fields, R3/R2B displays)
   â†“
8. PROVIDE FEEDBACK (visual/audio)
   â†“
9. LOG TO CONSOLE (if VERBOSE enabled)
   â†“
10. COMPLETE


INITIALIZATION:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

All button event listeners are attached during setup functions:
â€¢ setupR1()   - Attaches all R1 listeners
â€¢ setupR2A()  - Attaches all R2A listeners
â€¢ setupR3()   - Attaches all R3 listeners
â€¢ setupR2B()  - Attaches all R2B listeners

Called on: document.DOMContentLoaded event


EVENT LISTENER PATTERN:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

// Global control button
document.getElementById('r1-b3').addEventListener('click', () => {
  handleB3Click();
});

// Row-specific button (loop)
for (let i = 1; i <= 24; i++) {
  document.getElementById(`r1-b1-${i}`).addEventListener('click', () => {
    handleB1Click(i);
  });
}


================================================================================
11. ERROR STATES & RECOVERY
================================================================================

GRACEFUL DEGRADATION:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Invalid Input â†’ Silent Filtering:
â€¢ User types: "xyz"
â€¢ System validates against CHORD_REGEX
â€¢ Regex fails
â€¢ Value is cleared silently
â€¢ No error message shown
â€¢ User can try again

Missing Elements:
â€¢ If R3 element not found
â€¢ Handler checks with: if(!element) return;
â€¢ Prevents JavaScript errors
â€¢ UI remains responsive

Audio API Fallback:
â€¢ If Web Audio API not available
â€¢ Piano still displays visually
â€¢ Notes don't play but interface works
â€¢ Graceful degradation


RECOVERY PROCEDURES:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

B4 (Clear All):
â€¢ Clears all state
â€¢ Allows fresh start
â€¢ Recover from corrupted state

R2B Reset:
â€¢ Clears current chord display
â€¢ Allows new chord to load
â€¢ Removes stale data

Browser Refresh:
â€¢ Resets entire application
â€¢ Clears all state and memory
â€¢ Most reliable recovery


================================================================================
12. ACCESSIBILITY FEATURES
================================================================================

ARIA LABELS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

r3-b7: aria-label="Triad"       â†’ Screen reader: "Triad button"
r3-b8: aria-label="Tetrad"      â†’ Screen reader: "Tetrad button"
r3-b9: aria-label="Invert"      â†’ Screen reader: "Invert button"
r3-br3: aria-label="Send to R2B" â†’ Screen reader: "Send to R2B button"


KEYBOARD NAVIGATION:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Current: Mouse/touchpad only
Future Improvements:
â€¢ Tab: Navigate between buttons
â€¢ Enter/Space: Activate button
â€¢ Arrow keys: Navigate grid

Suggestions:
â€¢ Set tabindex on all buttons
â€¢ Add focus styles (visible outline)
â€¢ Implement keyboard handler


COLOR CONTRAST:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Button Text: #000 on #eee
â€¢ Ratio: 10.9:1
â€¢ Status: WCAG AAA compliant âœ“

Button Text: #000 on #ddd (hover)
â€¢ Ratio: 8.7:1
â€¢ Status: WCAG AAA compliant âœ“

Button Text: #000 on #a3d5ff (active)
â€¢ Ratio: 5.1:1
â€¢ Status: WCAG AA compliant âœ“


SCREEN READER SUPPORT:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Current Implementation:
â€¢ aria-label on key buttons
â€¢ Semantic HTML structure
â€¢ Logical button order

Suggestions for Improvement:
â€¢ Add aria-describedby for complex buttons
â€¢ Implement ARIA live regions for status updates
â€¢ Better button grouping with fieldset


================================================================================
13. TESTING CHECKLIST
================================================================================

FUNCTIONAL TESTING:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â–¡ B1: Load individual chord
â–¡ B2: Clear individual row
â–¡ B3: Load all 24 chords
â–¡ B4: Clear all 24 rows
â–¡ B5: Load from textarea (odd rows)
â–¡ B6: Clear textarea
â–¡ B7: Toggle Triad mode
â–¡ B8: Toggle Tetrad mode
â–¡ B9: Cycle Inversion (0â†’1â†’2â†’3â†’0)
â–¡ BR3: Send to R2B
â–¡ B10: Replay chord
â–¡ B11: Reset R2B


EDGE CASE TESTING:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â–¡ Empty input fields
â–¡ Invalid chord names
â–¡ Special characters in input
â–¡ Multiple spaces in textarea
â–¡ Very long chord names
â–¡ Rapid button clicks
â–¡ Browser back/forward buttons
â–¡ Multiple browser tabs


ACCESSIBILITY TESTING:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â–¡ Screen reader compatibility (NVDA, JAWS)
â–¡ Keyboard navigation (Tab, Enter)
â–¡ Color contrast verification
â–¡ Focus visible indicators
â–¡ ARIA label accuracy


================================================================================
END OF PIANO_BUTTONS_SPEC1.TXT
================================================================================

Version: 1.0
Status: DRAFT
Created: January 25, 2026
Next Steps: Add R3 and R2B button detailed specs
Feedback: Document is open for suggestions and improvements

